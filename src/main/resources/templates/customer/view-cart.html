<!DOCTYPE html>
<html lang="en" xmlns:th = "http://www.thymeleaf.org">
  <head th:replace = "customer/fragments :: html_head">
   <script link = "https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.5.2/flowbite.js"></script>
  </head>
	<body class="bg-gray-100">
        
        <header th:replace  = "customer/fragments :: header" class='fixed top-0 left-0 w-full z-50 border-b bg-white font-sans min-h-[60px] px-10 py-3'>
            
        </header>
		<header th:replace = "customer/fragments :: nav" class='fixed top-[77px] left-0 w-full z-50 border-b bg-red-200 font-sans min-h-[60px] px-10 py-3'>
		</header>
      	 <section class="bg-gray-50 py-8 antialiased dark:bg-gray-900 md:py-12 mt-[70px]">
      	  <!-- Heading & Filters -->
              <div class="mb-4 items-end justify-between space-y-4 sm:flex sm:space-y-0 md:mb-8">
                <div>
                  <nav class="flex" aria-label="Breadcrumb">
                    <ol class="inline-flex items-center space-x-1 md:space-x-2 rtl:space-x-reverse">
                      <li class="inline-flex items-center">
                        <a href="#" class="inline-flex items-center text-sm font-medium text-gray-700 hover:text-primary-600 dark:text-gray-400 dark:hover:text-white">
                          <svg class="me-2.5 h-3 w-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                            <path d="m19.707 9.293-2-2-7-7a1 1 0 0 0-1.414 0l-7 7-2 2a1 1 0 0 0 1.414 1.414L2 10.414V18a2 2 0 0 0 2 2h3a1 1 0 0 0 1-1v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 0 1 1h3a2 2 0 0 0 2-2v-7.586l.293.293a1 1 0 0 0 1.414-1.414Z" />
                          </svg>
                          Home
                        </a>
                      </li>
                      <li>
                        <div class="flex items-center">
                          <svg class="h-5 w-5 text-gray-400 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 5 7 7-7 7" />
                          </svg>
                          <a href="#" class="ms-1 text-sm font-medium text-gray-700 hover:text-primary-600 dark:text-gray-400 dark:hover:text-white md:ms-2">Products</a>
                        </div>
                      </li>
                      <li aria-current="page">
                        <div class="flex items-center">
                          <svg class="h-5 w-5 text-gray-400 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 5 7 7-7 7" />
                          </svg>
                          <span class="ms-1 text-sm font-medium text-gray-500 dark:text-gray-400 md:ms-2">Cart</span>
                        </div>
                      </li>
                    </ol>
                  </nav>
                  
                </div>
                
              </div>
              <!-- Cart Information -->
             <div th:unless = "${#lists.isEmpty(session.carts)}">
		        <div class="w-full max-w-7xl px-4 md:px-5 lg-6 mx-auto">
				
		            <h2 class="title font-manrope font-bold text-2xl leading-10 mb-8 text-center text-black">Shopping Cart
		            </h2>
		            <div class="hidden lg:grid grid-cols-2 py-6">
		                <div class="font-normal text-xl leading-8 text-gray-500">Product</div>
		                <p class="font-normal text-xl leading-8 text-gray-500 flex items-center justify-between">
		                    <span class="w-full max-w-[200px] text-center">Price($)</span>
		                    <span class="w-full max-w-[260px] text-center">Quantity</span>
		                    <span class="w-full max-w-[200px] text-center">Total($)</span>
		                    <span ></span>
		                </p>
		            </div>
		
		            <div th:each = "cart : ${session.carts}" class="grid grid-cols-1 lg:grid-cols-2 min-[550px]:gap-6 border-t border-gray-200 py-6">
		                <div 
		                    class="flex items-center flex-col min-[550px]:flex-row gap-3 min-[550px]:gap-6 w-full max-xl:justify-center max-xl:max-w-xl max-xl:mx-auto">
		                    <div class="img-box"><img th:src="@{'/Upload/'+${cart.image}}"  alt="perfume bottle image" class="xl:w-[140px] rounded-xl object-cover"></div>
		                    <div class="pro-data w-full max-w-sm ">
		                        <h5 th:text = "${cart.name}" class="font-semibold text-xl leading-8 text-black max-[550px]:text-center" >
		                           
		                        </h5>
		                        <p th:text = "${cart.categoryName}"
		                            class="font-normal text-lg leading-8 text-gray-500 my-2 min-[550px]:my-3 max-[550px]:text-center">
		                            </p>
		                        <!-- <h6 class="font-medium text-lg leading-8 text-indigo-600  max-[550px]:text-center">$120.00</h6> -->
		                    </div>
		                </div>
		                <div
		                    class="flex items-center flex-col min-[550px]:flex-row w-full max-xl:max-w-xl max-xl:mx-auto gap-2">
		                    <h6 th:text = "${cart.price}" class="font-manrope font-medium text-2xl leading-9 text-black w-full max-w-[176px] text-center">
		                        $</h6>
		                    <div class="flex items-center w-full mx-auto justify-center">
		                        <!-- Form Wrapper -->
							    <!-- <form th:action = "@{/customer/cart/update}" class="flex items-center space-x-2"> -->
							        <!-- Decrement Button -->
							       <a th:href = "@{/customer/cart/update/{id}(id = ${cart.id}, action = 'subtract')}" id="decrement-button" data-input-counter-decrement="quantity-input"
							            class="group rounded-l-full px-6 py-[18px] border border-gray-200 flex items-center justify-center shadow-sm shadow-transparent transition-all duration-500 hover:shadow-gray-200 hover:border-gray-300 hover:bg-gray-50">
							            <svg class="stroke-gray-900 transition-all duration-500 group-hover:stroke-black"
							                xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
							                <path d="M16.5 11H5.5" stroke="" stroke-width="1.6" stroke-linecap="round" />
							                <path d="M16.5 11H5.5" stroke="" stroke-opacity="0.2" stroke-width="1.6" stroke-linecap="round" />
							                <path d="M16.5 11H5.5" stroke="" stroke-opacity="0.2" stroke-width="1.6" stroke-linecap="round" />
							            </svg>
							        </a>
							
							        <!-- Quantity Input -->
							       <input th:value = "${cart.quantity}" type="text" id="quantity-input" data-input-counter aria-describedby="helper-text-explanation" 
							            class="border-y border-gray-200 outline-none text-gray-900 font-semibold text-lg w-full max-w-[118px] min-w-[80px] placeholder:text-gray-900 py-[15px] text-center bg-transparent"
							             />
									
							        <!-- Increment Button -->
							         <a th:href = "@{/customer/cart/update/{id}(id = ${cart.id}, action = 'add')}" id="increment-button" data-input-counter-increment="quantity-input"
							            class="group rounded-r-full px-6 py-[18px] border border-gray-200 flex items-center justify-center shadow-sm shadow-transparent transition-all duration-500 hover:shadow-gray-200 hover:border-gray-300 hover:bg-gray-50">
							            <svg class="stroke-gray-900 transition-all duration-500 group-hover:stroke-black"
							                xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
							                <path d="M11 5.5V16.5M16.5 11H5.5" stroke="" stroke-width="1.6" stroke-linecap="round" />
							                <path d="M11 5.5V16.5M16.5 11H5.5" stroke="" stroke-opacity="0.2" stroke-width="1.6" stroke-linecap="round" />
							                <path d="M11 5.5V16.5M16.5 11H5.5" stroke="" stroke-opacity="0.2" stroke-width="1.6" stroke-linecap="round" />
							            </svg>
							        </a> 
							        <!-- <input type = "hidden" th:value = "${cart.id}" name = "id" id = "id-input"/>
							        <input type = "number" min = "1" th:value = "${cart.quantity}" name = "updateQuantity" onchange = "this.form.submit()" id = "updateQuantity">
							    </form> -->
		                    </div>
		                    <h6
		                        class="font-manrope font-medium text-2xl leading-9 text-black w-full max-w-[176px] text-center"
		                        th:text = "${cart.price}*${cart.quantity}"
		                        >
		                     </h6>
		                     <div>
		                     	<a th:href = "@{'/customer/cart/delete/'+${cart.id}}" onclick = "return confirm('Are you sure you want to delete? ')" class = "font-manrope font-bold text-xl leading-9 text-red-800">
			                     	<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
		  								<path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0" />
									</svg>
		                     	</a>
		                     </div>
		                </div>
		            </div>
		                 
		            <div class="bg-gray-50 rounded-xl p-6 w-full mb-8 max-lg:max-w-xl max-lg:mx-auto">
		                <div class="flex items-center justify-between w-full py-6">
		                    <p class="font-manrope font-medium text-2xl leading-9 text-gray-900">Total</p>
		                    <h6 th:text= "${total}"
	                      class="font-manrope font-medium text-2xl leading-9 text-black w-full max-w-[176px] text-center">$</h6>
		                </div>
		            </div>
		            <div class="flex items-center flex-col sm:flex-row justify-center gap-3 mt-8">
		                <button
		                    class="rounded-full py-4 w-full max-w-[280px]  flex items-center bg-indigo-50 justify-center transition-all duration-500 hover:bg-[#970747] ">
		                    <span class="px-2 font-semibold text-lg leading-8 text-[#970747] hover:text-white">Continue to Shopping</span>
		                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
		                        <path d="M8.25324 5.49609L13.7535 10.9963L8.25 16.4998" stroke="#4F46E5" stroke-width="1.6"
		                            stroke-linecap="round" stroke-linejoin="round" />
		                    </svg>
		                </button>
		                <button
		                    class="rounded-full w-full max-w-[280px] py-4 text-center justify-center items-center bg-[#970747] font-semibold text-lg text-white flex transition-all duration-500 hover:bg-white hover:text-[#970747]">
		                   <a th:href = "@{/customer/invoice}" > Continue to Payment</a>
		                    <svg class="ml-2" xmlns="http://www.w3.org/2000/svg" width="23" height="22" viewBox="0 0 23 22"
		                        fill="none">
		                        <path d="M8.75324 5.49609L14.2535 10.9963L8.75 16.4998" stroke="white" stroke-width="1.6"
		                            stroke-linecap="round" stroke-linejoin="round" />
		                    </svg>
		                </button>
		            </div>
		        </div>
    		</div>
    		
    		<!--  Cart is empty -->
    		<div th:if = "${#lists.isEmpty(session.carts)}">
    			<h2 class="mt-3 text-xl font-semibold text-center text-gray-900 dark:text-white sm:text-2xl">Cart is empty!!</h2>
    		</div> 
    
    </section>
                  
      	<div th:replace = "customer/fragments :: script"></div>
		
    </body>
    </html>